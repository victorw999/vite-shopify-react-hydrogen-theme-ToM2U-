import{a}from"./redux-toolkit.modern.DURh381R.min.js";import{a as p}from"./Global.DZzDGABG.min.js";import{c as m}from"./customerUtils.CvkgFsrJ.min.js";import{s as u}from"./customerUtils.C7O5_bBb.min.js";const g=""+new URL("ppl-1.DNYQ4w4w.min.jpg",import.meta.url).href,_=Object.freeze(Object.defineProperty({__proto__:null,default:g},Symbol.toStringTag,{value:"Module"})),f=""+new URL("ppl-2.BmTWfSmn.min.jpg",import.meta.url).href,j=Object.freeze(Object.defineProperty({__proto__:null,default:f},Symbol.toStringTag,{value:"Module"})),b=""+new URL("ppl-3.BNWlGRTx.min.jpg",import.meta.url).href,y=Object.freeze(Object.defineProperty({__proto__:null,default:b},Symbol.toStringTag,{value:"Module"})),h=""+new URL("ppl-4.BQ_z0gR7.min.jpg",import.meta.url).href,w=Object.freeze(Object.defineProperty({__proto__:null,default:h},Symbol.toStringTag,{value:"Module"})),S=""+new URL("ppl-5.BfO9cnIP.min.jpg",import.meta.url).href,O=Object.freeze(Object.defineProperty({__proto__:null,default:S},Symbol.toStringTag,{value:"Module"})),v=""+new URL("ppl-6.AoeTgME2.min.jpg",import.meta.url).href,L=Object.freeze(Object.defineProperty({__proto__:null,default:v},Symbol.toStringTag,{value:"Module"})),R=""+new URL("ppl-7.Uz3IVIb6.min.jpg",import.meta.url).href,P=Object.freeze(Object.defineProperty({__proto__:null,default:R},Symbol.toStringTag,{value:"Module"})),T=""+new URL("ppl-1.YiG6MYaK.min.jpeg",import.meta.url).href+" 200w, "+new URL("ppl-1.M01lHoVW.min.jpeg",import.meta.url).href+" 600w",U=Object.freeze(Object.defineProperty({__proto__:null,default:T},Symbol.toStringTag,{value:"Module"})),z=""+new URL("ppl-2.Dz0o9g3R.min.jpeg",import.meta.url).href+" 200w, "+new URL("ppl-2.F0-2yxfZ.min.jpeg",import.meta.url).href+" 600w",E=Object.freeze(Object.defineProperty({__proto__:null,default:z},Symbol.toStringTag,{value:"Module"})),I=""+new URL("ppl-3.Ua9F32sB.min.jpeg",import.meta.url).href+" 200w, "+new URL("ppl-3.Dwr48ENo.min.jpeg",import.meta.url).href+" 600w",M=Object.freeze(Object.defineProperty({__proto__:null,default:I},Symbol.toStringTag,{value:"Module"})),C=""+new URL("ppl-4.CwZpjm0m.min.jpeg",import.meta.url).href+" 200w, "+new URL("ppl-4.ILwaiNSs.min.jpeg",import.meta.url).href+" 600w",x=Object.freeze(Object.defineProperty({__proto__:null,default:C},Symbol.toStringTag,{value:"Module"})),N=""+new URL("ppl-5.DkjcjH9F.min.jpeg",import.meta.url).href+" 200w, "+new URL("ppl-5.9eUTMaLe.min.jpeg",import.meta.url).href+" 600w",A=Object.freeze(Object.defineProperty({__proto__:null,default:N},Symbol.toStringTag,{value:"Module"})),$=""+new URL("ppl-6.CfKUAFf4.min.jpeg",import.meta.url).href+" 200w, "+new URL("ppl-6.DzqycIj3.min.jpeg",import.meta.url).href+" 600w",q=Object.freeze(Object.defineProperty({__proto__:null,default:$},Symbol.toStringTag,{value:"Module"})),B=""+new URL("ppl-7.Cp_u0rMz.min.jpeg",import.meta.url).href+" 200w, "+new URL("ppl-7.CI5kL8Sm.min.jpeg",import.meta.url).href+" 600w",D=Object.freeze(Object.defineProperty({__proto__:null,default:B},Symbol.toStringTag,{value:"Module"})),c=a({name:"contacts",initialState:{placeholderImages:{},imageLoadingError:null},reducers:{loadImages:(e,r)=>{e.imageLoadingError=!1,e.placeholderImages={...e.placeholderImages,...r.payload}},imageLoadingErr:e=>{e.imageLoadingError=!0}}}),oe=()=>async(e,r)=>{try{const t=p(Object.assign({"../../assets/contacts/ppl-1.jpg":_,"../../assets/contacts/ppl-2.jpg":j,"../../assets/contacts/ppl-3.jpg":y,"../../assets/contacts/ppl-4.jpg":w,"../../assets/contacts/ppl-5.jpg":O,"../../assets/contacts/ppl-6.jpg":L,"../../assets/contacts/ppl-7.jpg":P})),s=p(Object.assign({"../../assets/contacts/ppl-1.jpg":U,"../../assets/contacts/ppl-2.jpg":E,"../../assets/contacts/ppl-3.jpg":M,"../../assets/contacts/ppl-4.jpg":x,"../../assets/contacts/ppl-5.jpg":A,"../../assets/contacts/ppl-6.jpg":q,"../../assets/contacts/ppl-7.jpg":D}));let o={};Object.keys(t).forEach(n=>{o[n]={src:t[n]??"",srcset:s[n]??""}}),e(H(o))}catch{e(V())}},{loadImages:H,imageLoadingErr:V}=c.actions,re=c.reducer,W=`{
  customers(first: 10) { 
    edges {
      node {       
        id        
        verifiedEmail
        lastName
        firstName
    		numberOfOrders
        orders(first: 10) {
          edges {
            node {
              id
              name 
              totalPrice
              createdAt
              lineItems(first: 10) {
                nodes {
                  name
                  quantity
                  title
                  product {                  
                    media(first: 1) {
                      edges {
                        node {
                          preview {
                            image {
                              transformedSrc(maxHeight: 130, maxWidth: 130)
                            }
                          }
                        }
                      }
                    }
                  }
                  
               
                  
                }
              }
            }
          }
        } 
        lastOrder {
          id
          name
          lineItems (first: 10){
            nodes{
              title
              product{
                priceRangeV2{
                  maxVariantPrice{
                    amount
                  }
                }
                images (first:1) {
                  edges {
                    node {
                      id
                    }
                  }
                }
        
              }
            }
          }             
        }
        validEmailAddress
        tags
        image {
          id
        }
        
      }
    }
  }
}


`;async function F(){try{const e=new Headers({"X-Shopify-Access-Token":"6dfcc32eba205a4b80df437caf4dcc5c","Content-Type":"application/json"});return(await(await fetch("https://vzine.myshopify.com/admin/api/2024-04/graphql.json",{method:"POST",headers:e,body:JSON.stringify({query:W})})).json()).data.customers.edges.map(o=>o.node)}catch(e){console.error("fetchCustomersByAdminAPI() error fetching customers: ",e)}}const i=a({name:"customers",initialState:{customers:[],loadingError:null},reducers:{loadCustomers:(e,r)=>{e.loadingError=!1;const t=new Set(e.customers.map(o=>o.id));if(r.payload.filter(o=>!t.has(o.id)).length>0){const o=r.payload.map(l=>({...l,totalSpending:m(l)}));let n=[...e.customers,...o];e.customers=n.sort(u("firstName","lastName"))}},loadingError:e=>{e.loadingError=!0}}}),se=()=>async(e,r)=>{try{const t=await F();e(k(t))}catch{e(Y())}},{loadCustomers:k,loadingError:Y}=i.actions,ne=i.reducer,G=` {
  products(first: 10) {
    edges {
      node {
        id
        title
        handle
        description
        variants(first: 5) {
          edges {
            node {              
              id
              selectedOptions {
                name
                value
              }
              priceV2 {
                amount
                currencyCode
              }
            }
          }
        }
        featuredImage {
          originalSrc           
        }
        media(first: 1) {
          edges {
            node {              
              previewImage {
                transformedSrc(maxHeight: 200, maxWidth: 200)
              }
            }
          }
        }
      }
    }
  }
}`;async function J(){return(await(await fetch("https://vzine.myshopify.com/api/2024-07/graphql.json",{method:"POST",headers:{"Content-Type":"application/json","X-Shopify-Storefront-Access-Token":"7205448e608af45a59ff19512e93792b"},body:JSON.stringify({query:G})})).json()).data.products.edges.map(s=>s.node)}const d=a({name:"product",initialState:{products:[],loadingError:null},reducers:{loadProducts:(e,r)=>{e.loadingError=!1;const t=new Set(e.products.map(o=>o.id));r.payload.filter(o=>!t.has(o.id)).length>0&&(e.products=[...e.products,...r.payload])},loadingError:e=>{e.loadingError=!0}}}),ae=()=>async(e,r)=>{try{const t=await J();e(K(t))}catch{e(Q())}},{loadProducts:K,loadingError:Q}=d.actions,le=d.reducer;export{ne as a,ae as b,re as c,se as d,oe as f,le as p};

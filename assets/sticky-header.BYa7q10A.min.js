class i extends window.HTMLElement{connectedCallback(){this.header=document.getElementById("shopify-section-header"),this.headerBounds={},this.currentScrollTop=0,this.preventReveal=!1,this.onScrollHandler=this.onScroll.bind(this),this.hideHeaderOnScrollUp=()=>{this.preventReveal=!0},window.addEventListener("scroll",this.onScrollHandler,!1),this.createObserver()}createObserver(){new window.IntersectionObserver((t,s)=>{this.headerBounds=t[0].intersectionRect,s.disconnect()}).observe(this.header)}onScroll(){const e=window.pageYOffset||document.documentElement.scrollTop;if(!(this.predictiveSearch&&this.predictiveSearch.isOpen)){if(e>this.currentScrollTop&&e>this.headerBounds.bottom){if(this.preventHide)return;window.requestAnimationFrame(this.hide.bind(this))}else e<this.currentScrollTop&&e>this.headerBounds.bottom?this.preventReveal?(window.clearTimeout(this.isScrolling),this.isScrolling=setTimeout(()=>{this.preventReveal=!1},66),window.requestAnimationFrame(this.hide.bind(this))):window.requestAnimationFrame(this.reveal.bind(this)):e<=this.headerBounds.top&&window.requestAnimationFrame(this.reset.bind(this));this.currentScrollTop=e}}hide(){this.header.classList.add("-translate-y-full","sticky","top-0")}reveal(){this.header.classList.add("sticky","top-0","transition-transform"),this.header.classList.remove("-translate-y-full")}reset(){this.header.classList.remove("-translate-y-full","sticky","top-0","transition-transform")}}window.customElements.define("sticky-header",i);
